67. Add Binary
完成日期： 2026-01-14
難度： Easy
標籤： Math, String, Bit Manipulation, Simulation
連結： LeetCode 67

## 題目描述
Given two binary strings a and b, return their sum as a binary string.

## 範例
**範例 1：**
Input: a = "11", b = "1"
Output: "100"

**範例 2：**
Input: a = "1010", b = "1011"
Output: "10101"

## 限制條件
- 1 <= a.length, b.length <= 10^4
- a and b consist only of '0' or '1' characters.
- Each string does not contain leading zeros except for the zero itself.

## 解法：模擬二進位加法（我的解法）
### 程式碼
```python
class Solution:
    def addBinary(self, a: str, b: str) -> str:
        """ 二進位字串相加
        
        模擬手工二進位加法，從最低位開始逐位計算
        這是我的解法，清晰直觀且效率良好
        """
        i, j = len(a) - 1, len(b) - 1
        carry = 0  # 進位
        result = []

        while i >= 0 or j >= 0 or carry:
            # 取得當前位數，如果索引為負則為0
            digit_a = int(a[i]) if i >= 0 else 0
            digit_b = int(b[j]) if j >= 0 else 0
            
            total = digit_a + digit_b + carry
            result.append(str(total % 2))   # 當前位元
            carry = total // 2              # 更新進位

            i -= 1
            j -= 1

        # 結果是從低位到高位建立的，需要反轉
        return ''.join(reversed(result))
```

### 解題思路
1. **初始化指標**：從兩個字串的最低位（最右邊）開始
2. **模擬加法**：類似手工計算，處理進位
3. **處理不同長度**：當一個字串比較短時，用0補位
4. **處理最終進位**：如果最後還有進位，需要額外處理
5. **結果反轉**：因為我們從低位開始建立結果

## 我的思考過程
1. **問題分析**：需要模擬二進位加法，類似十進位的進位概念
2. **靈感來源**：想到可以用手工計算的方式，從右向左逐位相加
3. **設計演算法**：
   - 使用兩個指標從字串末尾開始
   - 使用進位變數記錄進位值
   - 使用列表暫存結果，最後反轉
4. **數學原理**：二進位加法規則：
   - 0 + 0 = 0（進位0）
   - 0 + 1 = 1（進位0）
   - 1 + 1 = 0（進位1）
   - 1 + 1 + 1 = 1（進位1）

## 關鍵點
- **從右向左處理**：模擬手工計算的方向
- **進位處理**：使用 `carry` 變數記錄進位
- **不同長度處理**：使用條件判斷處理長度不同的情況
- **最終進位**：循環條件包含 `carry`，確保處理最終進位
- **結果反轉**：列表操作比字串連接更有效率

## 複雜度分析
- **時間複雜度**：O(max(m, n))
  - m, n 分別是兩個字串的長度
  - 需要遍歷較長的字串一次
- **空間複雜度**：O(max(m, n))
  - 需要儲存結果字串
  - 最壞情況：長度為 max(m,n)+1（有進位時）

## 測試範例
**測試 1**：a="11", b="1"
→ 計算過程：
   1 + 1 = 0（進位1）
   1 + 0 + 進位1 = 0（進位1）
   0 + 0 + 進位1 = 1
→ 結果："100"

**測試 2**：a="1010", b="1011"
→ 計算過程：
   0 + 1 = 1（進位0）
   1 + 1 = 0（進位1）
   0 + 0 + 進位1 = 1（進位0）
   1 + 1 = 0（進位1）
   0 + 0 + 進位1 = 1
→ 結果："10101"

**測試 3**：a="0", b="0"
→ 結果："0"

**測試 4**：a="1111", b="1111"
→ 結果："11110"

**測試 5**：a="1", b="111"
→ 結果："1000"

## 學習心得
這題讓我學到：
1. **模擬計算的技巧**：如何將手工計算轉化為程式邏輯
2. **進位處理**：在各種進位制計算中通用的進位概念
3. **字串操作**：從右向左處理字串的技巧
4. **邊界條件**：不同長度、進位、空字串的處理
5. **數學思維**：將數學問題轉化為程式問題的能力

## 相關題目
- 2. Add Two Numbers (Medium) - 鏈表形式的數字相加
- 66. Plus One (Easy) - 十進位數字加一
- 43. Multiply Strings (Medium) - 字串乘法
- 415. Add Strings (Easy) - 十進位字串相加

## 下一步計畫
- 嘗試使用 Python 內建函數解決（雖然不符合練習目的）
- 挑戰 43. Multiply Strings
- 練習更多數學模擬相關的題目
